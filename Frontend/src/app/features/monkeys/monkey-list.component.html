<div class="monkey-dashboard">
    <header>
        <h1>Zoo & Monkeys Management</h1>
    </header>

    <main>
        <section class="monkey-form-section">
            <h2>Add New Monkey</h2>
            <form (submit)="addMonkey($event)" class="monkey-form">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" [(ngModel)]="name" name="name" required placeholder="Monkey Name" />
                </div>

                <div class="form-group">
                    <label for="age">Age</label>
                    <input type="number" id="age" [(ngModel)]="age" name="age" required min="1" placeholder="Years" />
                </div>

                <div class="form-group">
                    <label for="temperament">Temperament</label>
                    <select id="temperament" [(ngModel)]="temperament" name="temperament">
                        @for (temp of temperaments; track temp) {
                        <option [value]="temp">{{ temp }}</option>
                        }
                    </select>
                </div>

                <button type="submit" [disabled]="isSubmitting() || !name() || !age()">
                    {{ isSubmitting() ? 'Adding...' : 'Add Monkey' }}
                </button>
            </form>
        </section>

        <section class="monkey-list-section">
            <h2>Our Monkeys</h2>

            @if (monkeysData.isLoading()) {
            <p>Loading monkeys...</p>
            } @else if (monkeysData.error()) {
            <p>Failed to load monkeys.</p>
            } @else if (monkeysData.value() && monkeysData.value()!.length > 0) {
            <div class="monkey-grid">
                @for (monkey of monkeysData.value(); track monkey.id) {
                <div class="monkey-card">
                    <div class="monkey-avatar">üêµ</div>
                    <div class="monkey-info">
                        <h3>{{ monkey.name }}</h3>
                        <span class="species-badge">{{ monkey.age }} yrs ‚Ä¢ {{ monkey.temperament }}</span>
                    </div>
                    <button class="delete-btn" (click)="deleteMonkey(monkey.id)" aria-label="Delete monkey">‚ùå</button>
                </div>
                }
            </div>
            } @else {
            <p class="empty-state">No monkeys currently in the zoo. Add some!</p>
            }
        </section>
    </main>
</div>